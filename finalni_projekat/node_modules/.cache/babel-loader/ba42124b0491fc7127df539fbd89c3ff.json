{"ast":null,"code":"import _slicedToArray from \"/home/lokid/Desktop/finalni_projekat/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/lokid/Desktop/finalni_projekat/src/components/start_new_topic.jsx\";\nimport React from 'react';\nimport { useState } from 'react';\nimport { putNewTopic, putUserMessages } from '../utilities/forum-services'; // import { getAllTopicMessages, putUserMessages, getAllTopics } from '../utilities/forum-services';\n// import { useEffect } from 'react';\n\nconst StartNewTopic = ({\n  logIn\n}) => {\n  const _useState = useState(''),\n        _useState2 = _slicedToArray(_useState, 2),\n        title = _useState2[0],\n        setTitle = _useState2[1];\n\n  const _useState3 = useState(''),\n        _useState4 = _slicedToArray(_useState3, 2),\n        message = _useState4[0],\n        setMessage = _useState4[1]; // const [topicID, setTopicID] = useState('')\n\n\n  let user_id;\n  let username; // let topic_id\n\n  if (logIn) {\n    user_id = logIn.user_id;\n    username = logIn.username;\n  }\n\n  console.log(user_id);\n  console.log(title);\n  console.log(message);\n  console.log(username);\n\n  function handleSubmit() {\n    console.log('nešto se deševa');\n    putNewTopic({\n      user_id,\n      title\n    }).then(data => {\n      if (data.success) {\n        console.log(data.message);\n        let topic_id = data.topic.topic_id; // setTopicID(data.topic.topic_id);\n\n        putUserMessages({\n          username,\n          topic_id,\n          message\n        }).then(data => {\n          if (data.success) {\n            console.log(data.message);\n          }\n        });\n      }\n    }); // console.log(topicID)\n    // getAllTopicMessages()\n    // .then(data => {\n    //     if (data.success) {\n    //         topic_id = data.messages.topic_id\n    //         return topic_id\n    //     }\n    // });\n    // putUserMessages({username, topic_id, message})\n    // .then(data => {\n    //     if (data.success) console.log(data.message)\n    // })\n  } // useEffect(() => {\n  // getAllTopics()\n  // .then(data => {\n  //     if (data.topics.find(data.topics.title === title)) {\n  //         return topic_id = data.topics.topic_id\n  //     }\n  //     else return\n  // })\n  // }, [setTitle])    \n\n\n  return React.createElement(\"form\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Zapo\\u010Dni novu temu\",\n    title: \"Molim vas, proverite prvo u listi sa leve strane da li tema koju pokre\\u0107ete ve\\u0107 postoji\",\n    required: true,\n    onInput: e => {\n      setTitle(e.target.value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }), \" \", React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Ostavite prvu poruku na va\\u0161oj novoj temi\",\n    onInput: e => {\n      setMessage(e.target.value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }), \" \", React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Zapo\\u010Dni novu temu\",\n    onClick: e => {\n      e.preventDefault();\n      handleSubmit();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }));\n};\n\nexport default StartNewTopic;","map":{"version":3,"sources":["/home/lokid/Desktop/finalni_projekat/src/components/start_new_topic.jsx"],"names":["React","useState","putNewTopic","putUserMessages","StartNewTopic","logIn","title","setTitle","message","setMessage","user_id","username","console","log","handleSubmit","then","data","success","topic_id","topic","e","target","value","preventDefault"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useState } from 'react';\nimport { putNewTopic, putUserMessages } from '../utilities/forum-services'\n// import { getAllTopicMessages, putUserMessages, getAllTopics } from '../utilities/forum-services';\n// import { useEffect } from 'react';\n\nconst StartNewTopic = ({logIn}) => {\n    const [title, setTitle] = useState('')\n    const [message, setMessage] = useState('')\n    // const [topicID, setTopicID] = useState('')\n    let user_id \n    let username\n    // let topic_id\n\n    if (logIn) {\n        user_id = logIn.user_id\n        username = logIn.username\n    }\n\n    console.log(user_id)\n    console.log(title)\n\n    console.log(message)\n    console.log(username)\n\n   \n\n        \n    function handleSubmit() {\n        console.log('nešto se deševa')\n        putNewTopic({user_id, title})\n        .then(data => {\n            if (data.success) {\n                console.log(data.message); \n                let topic_id=data.topic.topic_id;\n                // setTopicID(data.topic.topic_id);\n                \n                putUserMessages({username,topic_id , message})\n                .then(data => {\n            if(data.success) {\n                console.log(data.message)\n            }\n             })\n                \n            }\n        });\n\n        // console.log(topicID)\n        \n\n        // getAllTopicMessages()\n        // .then(data => {\n        //     if (data.success) {\n        //         topic_id = data.messages.topic_id\n        //         return topic_id\n        //     }\n        // });\n\n        // putUserMessages({username, topic_id, message})\n        // .then(data => {\n        //     if (data.success) console.log(data.message)\n        // })\n    }\n\n    // useEffect(() => {\n        // getAllTopics()\n        // .then(data => {\n            \n        //     if (data.topics.find(data.topics.title === title)) {\n        //         return topic_id = data.topics.topic_id\n        //     }\n        //     else return\n        // })\n    // }, [setTitle])    \n\n    return (\n        <form>\n            <input type=\"text\" placeholder=\"Započni novu temu\" title=\"Molim vas, proverite prvo u listi sa leve strane da li tema koju pokrećete već postoji\" required \n            onInput={e => {setTitle(e.target.value)}}/> <br/>\n            <input type=\"text\" placeholder=\"Ostavite prvu poruku na vašoj novoj temi\" onInput={e => {setMessage(e.target.value)}}/> <br/>\n            <input type=\"submit\" value=\"Započni novu temu\" onClick={(e) => {e.preventDefault(); handleSubmit()}}/>\n        </form>\n    )\n}\n\nexport default StartNewTopic;"]},"metadata":{},"sourceType":"module"}